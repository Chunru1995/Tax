{% extends "base.html" %}    
{% block content %}

{% block staticgraph %}
<h1>Meaning-Making with Incomplete Data</h1>
<script>
    function cb(selection) { //I think the problem here might be that the callback function doesn't know that graphJSON is a list?
        $.getJSON({
            url: "/callback", data: { 'data': selection }, success: function (result) {
                Plotly.newPlot('chart', result, {staticPlot: true});;
            }
        });
    }
</script>
    <h3>This web application explores personal property tax data from 1867 in five Virginia counties. On this page you’ll find our interpretation of the data. To explore on your own, navigate to the ‘Search Database’ and ‘Interactive Graphing’ pages.</h3>
    <h2>What Data do We Have?</h2>
    <body>
        <div class="brown-block">
            Our data consists of roughly 12000 observations with 64 features. Every observation has at least one missing value, and many features have very little data. The majority of features have been transcribed directly from the data source, which are handwritten tax records. A few features have been added by transcribers.<br><br>     
            With sparsely populated data, extraction of meaning is difficult. However, these records come from a tumultuous time in the history of the United States, and can provide a glimpse into the lives of Reconstruction era Virginians. In 1867, black men and women had been recently freed from slavery, and for the first time were largely recorded as people rather than property. By investigating what the data can tell us about wealth distribution, race, and employment status, we discover that the data does contain a feature that can be treated as a proxy for race. Further, based on knowledge of surname conventions at the time, we can select a subset of individuals who were almost certainly enslaved and compare this group to others.</body>
        </div>
    </body>
    <h2>Discovering a Proxy for Race</h2>
            <div id="graph" class="graph"></div>
            <div class="brown-block"> 
                <p>Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left.
                    Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left.
                    Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left.
                    Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left.
                    Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left.
                    Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left.
                    Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left.
                    Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left. Here's a description of the graph to the left.
                </p>    
            </div>
    <h3>Count of Black Males Taxed by Role and County</h3>
    <div id="graph2"  class="graph"></div>
    <h3>Count of White Males Taxed by Role and County</h3>
    <div id="graph3"  class="graph"></div>
    <h3>Total Tax Value by Role and Confirmed or Unconfirmed Formerly Enslaved</h3>
    <div id="graph4"  class="graph"></div>
    <div id="graph5"  class="graph"></div>
    <div id="graph6"  class="graph"></div>
{% endblock %}

<script>
    graph1 = {{ graphJSON[0] | safe }};
    //d.config={staticPlot: true};
    Plotly.newPlot('graph', graph1, {});
    
</script>

<script type="text/javascript">
    graph2 = {{ graphJSON[1] | safe }};
    
    Plotly.newPlot('graph2', graph2, {});

</script>

<script type="text/javascript">
    graph3 = {{ graphJSON[2] | safe }};
    
    Plotly.newPlot('graph3', graph3, {});

</script>

<script type="text/javascript">
    graph4 = {{ graphJSON[3] | safe }};
    
    Plotly.newPlot('graph4', graph4, {});

</script>

<script type="text/javascript">
    graph5 = {{ graphJSON[4] | safe }};
    
    Plotly.newPlot('graph5', graph5, {});

</script>

<script type="text/javascript">
    graph6 = {{ graphJSON[5] | safe }};
    
    Plotly.newPlot('graph6', graph6, {});

</script>

{% endblock %}